
% !TeX program = xelatex

%使用hustthesis这个模板。
% draft版本的正文页包括页眉(“华中科技大学xx学位论文”)、页眉修饰线(双线)、页脚(页码)和页脚修饰线(单线)。
% final版本的正文页不包括页眉、页眉修饰线和页脚修饰线，仅包 含页脚（页码）。如果不指定，默认设置为final。

% degree用来指定论文的种类
% language用来指定论文语言。特别的，如果设定为english-draft，将会剔除论文中的所有中文内容，这有利于在未安装中文字体的环境中使用。如果不指定，默认设置为 chinese。


\documentclass[format=draft,language=chinese,degree=master]{hustthesis}
%\documentclass[format=final,language=chinese,degree=master]{hustthesis}

%\setcounter{tocdepth}{2} %设置目录的层级

%使用下面的这两个宏包来生成带书签和超链接的PDF文件。
%\usepackage[bookmarks,bookmarksopen,bookmarksdepth=2]{hyperref}
%\usepackage[pdftex,CJKbookmarks=true,colorlinks=true]{hyperref} %LaTeX Error: Option clash for package hyperref
\usepackage{indentfirst}

\stuno{M201672905}
\schoolcode{10487}
\title{基于Vxworks的调试通道的\\
设计与实现}{A design and implementation of debug channel based on Vxworks.}
\author{郑松}{Song Zheng}
\major{计算机应用技术}{Computer Applications Technology}
\supervisor{张杰\hspace{1em}讲师}{ Lecturer Jie Zhang}
\date{2018}{5}{27}
%\date{\today}

\zhabstract{
	在嵌入式软件的开发、移植、运行时都需要输出一些调试或日志信息，目前VxWorks当中使用WorkBench集成开发平台来完成软件的开发、调试工作，它的调试工具使用的是一种典型的在线调试方式，但是在项目的实际生产环境中希望能够使用一种离线的调试日志的方式来进行程序的调试工作，希望在设备运行的大量应用程序当中加入调试信息，这些调试信息能够自动的传输到普通的PC上，之后可以查看这些调试信息，对这些信息进行分析。
	

	首先从项目的要求出发，详细地了解了所使用的设备的情况和具体的需求，给出了一个总体的设计方案，由于目前大多数的设备都已不再将RS-232的串口作为必须的标准接口，而是大量的使用USB接口，在项目所处的实际环境当中也没有可供使用的串口，因此在调试信息的传输过程中只能够使用USB接口，所以本设计以USB转串口驱动为基础，并配以我们设计的调试接口组成一个实际可用的调试通道，方便它们在程序的开发和移植的过程中进行离线的调试。
	
	根据方案需求，首先从分析了VxWorks下的设备驱动开发所需的关键技术开始，然后在VxWorks下设计出了一个特定需求的USB转串口的驱动程序和一个普通的USB转串口驱动程序，驱动程序具有双向缓冲功能，同时具有即插即用、使用方便等特点。	
	接下来给上层需要输出调试信息的应用设计了两个调试接口。一个Log调试接口，这个接口使用了一个自定义的调试通道的传输协议；另外一个接口是标准输出重定向的调试接口，方便开发人员直接使用标准输出进行调试信息的输出。	 
	最后通过对系统的各个模块进行测试和系统的整体测试，验证了本次的调试通道设计基本完成，系统运行可靠，满足所需完成的要求。

}
\zhkeywords{VxWorks操作系统，设备驱动开发，调试，USB转串口}

\enabstract
{
    In the development, migration, and runtime of embedded software, some debugging or log information needs to be output. At present, Workbench integrated development platform is used in VxWorks to complete software development and debugging. Its debugging tool uses a typical online debugging. The way, but in the actual production environment of the project, it is hoped that an off-line debugging log can be used to debug the program. It is hoped that debugging information will be added to a large number of application programs running on the device. These debugging information can be automatically transmitted to the general On the PC, you can view the debug information and analyze the information.

    First of all, starting from the requirements of the project, we have a detailed understanding of the conditions and specific requirements of the equipment used, and given an overall design proposal. Since most of the current devices no longer require the RS-232 serial port as a must Standard interface, but a large number of use of the USB interface, in the actual environment of the project is also not available for use in the serial port, so in the transmission of debugging information can only use the USB interface, so the design to USB to serial port driver for The foundation, together with the debugging interface we have designed, forms a practical and usable debugging channel to facilitate offline debugging during program development and porting.

	According to the requirements of the project, we started with an analysis of the key technologies needed for device driver development under VxWorks, and then designed a specific USB-to-serial driver and a generic USB-to-serial driver under VxWorks. With two-way buffer function, it has plug-and-play, easy to use and so on.
Next, two debugging interfaces are designed for applications that need to output debugging information in the upper layer. A Log debugging interface, this interface uses a custom debug channel transmission protocol; another interface is a standard output redirection debug interface, to facilitate developers directly use standard output for debugging information output.
Finally, through the testing of each module of the system and the overall testing of the system, it is verified that the design of the debugging channel of this time is basically completed, and the system is running reliably and meets the required requirements.

}
\enkeywords
{VxWorks operating system, device driver development,debugging, USB to serial}

\begin{document}
% frontmatter用于设定论文的状态、改变样式，其具体使用见简单示例。 
% frontmatter用在文档最开始，表明文档的前言部分（如封面，摘要，目录等）的开 始。
\frontmatter

% maketitle的作用和makecover的作用相同，用于生成封面和版权页面
\maketitle


% makeabtract用于生成中英文的摘要页面。
\makeabstract

% tableofcontents用于生成目录
\tableofcontents

% listoffigures 和 listoftables 分别用于生成图片和表格索引，可以根据要求在论文的前言中使用或者是在附录中使用
%\listoffigures
%\listoftables

% mainmatter表示论文正文的开始。
\mainmatter

\clearpage
\include{data/chap01}

\clearpage
\include{data/chap02}

\clearpage
\include{data/chap03}

\clearpage
\include{data/chap04}

\clearpage
\include{data/chap05}

\clearpage
\include{data/chap06}
% backmatter用于表示论文的正文结束
\backmatter

%ack 环境用于致谢页面
\begin{ack}
\indent 转眼两年的研究生生活就要结束了，在此要感谢在这两年的学习生活当中教导我的老师和陪伴我一齐成长的同学，是他们陪伴着我在科研的路上一直奋斗，他们不断地激励着我、鼓励着我前进。
同时还要感谢论文的评阅人员，谢谢你们为我研究生生涯进行最后的把关、检验工作。


\noindent 本此的调试通道的设计工作能够顺利完成，还要特别感谢我的导师张杰老师，张老师从论文选题，构思到最后定稿的每个环节都一直给予我意见、指引与教导,在整个研究生生涯当中张老师都非常严格的要求我，这让我在研究生期间学习到了更多的知识。
也是在张老师的指导和帮助下,我才能够克服各种困难,突破一个又一个的技术难题,最终完成该调试通道的设计，使我得以最终完成毕业论文设计！
\end{ack}

% bibliography用于生成参考文献。
\nocite{*}
% \bibliographystyle{plain}
\bibliography{ref/myref.bib}


\end{document}

\endinput
%%
%% End of file `hustthesis-zh-example.tex'.
